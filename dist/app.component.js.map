{"version":3,"sources":["app.component.ts"],"names":[],"mappings":"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","file":"app.component.js","sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {QuestionService} from \"./shared/service/question.service\";\nimport {QuestionCategory, Question} from \"./shared/models/models\";\n\n@Component({\n    selector: 'quiz-app',\n    templateUrl: './app/app.component.html',\n    styleUrls: ['./app/app.component.css']\n})\n\nexport class AppComponent implements OnInit {\n    questions: QuestionCategory[];\n    activeQuestion: Question;\n    lastTurn: number;\n    activeGroup: number;\n    groups = [\n        {\n            name: 'Gruppe 1',\n            score: 0,\n            fifty: 1,\n            phone: 1\n        },\n        {\n            name: 'Gruppe 2',\n            score: 0,\n            fifty: 1,\n            phone: 1\n        }\n    ];\n\n    constructor(private questionService: QuestionService) {\n    }\n\n    ngOnInit() {\n        this.questionService.getQuestions()\n            .subscribe(questions => {\n                this.questions = questions;\n                let id = 0,\n                    index = 1;\n                for (let category of this.questions) {\n                    for (let question of category.questions) {\n                        question.id = id;\n                        question.index = index;\n                        question.answered = false;\n\n                        id++;\n                        index++;\n                    }\n                    index = 1;\n\n                }\n            });\n        this.activeGroup = 0;\n        this.lastTurn = 0;\n    }\n\n    selectQuestion(question: Question) {\n        if (question.answered) {\n            return;\n        }\n        this.activeQuestion = question;\n    }\n\n    switchGroup() {\n        this.activeGroup = this.activeGroup === 0 ? 1 : 0;\n    }\n\n    questionAnswered(data) {\n        if (data.correct) {\n            this.groups[this.activeGroup].score += data.question.difficulty;\n        }\n\n        data.question.answered = true;\n\n        this.activeGroup = this.lastTurn === 0 ? 1 : 0;\n        this.lastTurn = this.activeGroup;\n        this.activeQuestion = null;\n    }\n\n    jokerAvailable(type: string, group: number) {\n        if (!this.activeQuestion) {\n            return false;\n        }\n\n        if (this.activeQuestion.type !== 'choose') {\n            return false;\n        }\n\n        if (group !== this.activeGroup) {\n            return false;\n        }\n        return this.groups[this.activeGroup][type];\n    }\n\n    setJoker(type: string, group: number) {\n        if (!this.jokerAvailable(type, group)) {\n            return;\n        }\n        this.groups[this.activeGroup][type]--;\n\n        if (type === 'phone') {\n            return;\n        }\n\n        for (let answer of this.activeQuestion.answers) {\n            if (answer.fifty) {\n                continue;\n            }\n            answer.choosen = true;\n        }\n    }\n}\n"]}